<%- include('partials/header') %>

<div class="container mx-auto px-4 py-12">
    <div class="max-w-3xl mx-auto bg-white rounded-lg shadow-lg p-8">
        <h2 class="text-3xl font-bold text-center text-teal-600 mb-8">Join the Antidrug Club</h2>
        
        <% if(typeof errors != 'undefined') { %>
            <% errors.forEach(function(error) { %>
                <div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4" role="alert">
                    <%= error.msg %>
                </div>
            <% }); %>
        <% } %>

        <form action="/auth/register" method="POST">
            <!-- Personal Info -->
            <h3 class="text-xl font-semibold text-gray-700 mb-4 border-b pb-2">Personal Information</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                <div>
                    <label class="block text-gray-700 text-sm font-bold mb-2" for="full_name">Full Name</label>
                    <input class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" id="full_name" name="full_name" type="text" required value="<%= typeof full_name != 'undefined' ? full_name : '' %>">
                </div>
                <div>
                    <label class="block text-gray-700 text-sm font-bold mb-2" for="gender">Gender</label>
                    <select class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" id="gender" name="gender" required>
                        <option value="">Select Gender</option>
                        <option value="Male">Male</option>
                        <option value="Female">Female</option>
                    </select>
                </div>
            </div>

            <!-- University Info -->
            <h3 class="text-xl font-semibold text-gray-700 mb-4 border-b pb-2 mt-6">University Details</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                <div>
                    <label class="block text-gray-700 text-sm font-bold mb-2" for="university_id">University ID (e.g., 1234/14)</label>
                    <input class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" id="university_id" name="university_id" type="text" required value="<%= typeof university_id != 'undefined' ? university_id : '' %>">
                </div>
                <div>
                    <label class="block text-gray-700 text-sm font-bold mb-2" for="college">College/Faculty</label>
                    <input class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" id="college" name="college" type="text" required>
                </div>
                <div>
                    <label class="block text-gray-700 text-sm font-bold mb-2" for="department">Department</label>
                    <input class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" id="department" name="department" type="text" required>
                </div>
                <div>
                    <label class="block text-gray-700 text-sm font-bold mb-2" for="year_of_study">Year of Study</label>
                    <input class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" id="year_of_study" name="year_of_study" type="number" min="1" max="7" required>
                </div>
            </div>

            <!-- Contact Info -->
            <h3 class="text-xl font-semibold text-gray-700 mb-4 border-b pb-2 mt-6">Contact & Residence</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                <div>
                    <label class="block text-gray-700 text-sm font-bold mb-2" for="email">Email Address</label>
                    <input class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" id="email" name="email" type="email" required value="<%= typeof email != 'undefined' ? email : '' %>">
                </div>
                <div>
                    <label class="block text-gray-700 text-sm font-bold mb-2" for="phone_number">Phone Number</label>
                    <input class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" id="phone_number" name="phone_number" type="text" required value="<%= typeof phone_number != 'undefined' ? phone_number : '' %>">
                </div>
                <div>
                    <label class="block text-gray-700 text-sm font-bold mb-2" for="residence">Residence</label>
                    <select class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" id="residence" name="residence" required>
                        <option value="Campus Dormitory">Campus Dormitory</option>
                        <option value="Non-Campus">Non-Campus</option>
                    </select>
                </div>
                <div>
                    <label class="block text-gray-700 text-sm font-bold mb-2" for="dorm_block">Dorm Block (Optional)</label>
                    <input class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" id="dorm_block" name="dorm_block" type="text">
                </div>
            </div>

            <!-- Club Specifics -->
            <h3 class="text-xl font-semibold text-gray-700 mb-4 border-b pb-2 mt-6">Membership Details</h3>
            <div class="mb-4">
                <label class="block text-gray-700 text-sm font-bold mb-2" for="membership_type">Membership Type</label>
                <select class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" id="membership_type" name="membership_type" required>
                    <option value="Active Volunteer">Active Volunteer (I want to help organize events)</option>
                    <option value="Passive Member">Passive Member (I just want to support and attend)</option>
                </select>
            </div>
            <div class="mb-4">
                <label class="block text-gray-700 text-sm font-bold mb-2" for="committees">Committees of Interest (e.g., Event Organizing, Social Media)</label>
                <input class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" id="committees" name="committees" type="text">
            </div>
            <div class="mb-4">
                <label class="block text-gray-700 text-sm font-bold mb-2" for="reason_for_joining">Why do you want to join?</label>
                <textarea class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" id="reason_for_joining" name="reason_for_joining" rows="3"></textarea>
            </div>

            <!-- Password -->
            <h3 class="text-xl font-semibold text-gray-700 mb-4 border-b pb-2 mt-6">Security</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
                <div>
                    <label class="block text-gray-700 text-sm font-bold mb-2" for="password">Password</label>
                    <input class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" id="password" name="password" type="password" required>
                </div>
                <div>
                    <label class="block text-gray-700 text-sm font-bold mb-2" for="confirm_password">Confirm Password</label>
                    <input class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" id="confirm_password" name="confirm_password" type="password" required>
                </div>
            </div>

            <div class="flex items-center justify-between">
                <button class="bg-teal-600 hover:bg-teal-800 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline w-full" type="submit">
                    Register
                </button>
            </div>
            <div class="text-center mt-4">
                <a href="/auth/login" class="text-teal-600 hover:text-teal-800">Already have an account? Login</a>
            </div>
        </form>
    </div>
</div>

<%- include('partials/footer') %>
